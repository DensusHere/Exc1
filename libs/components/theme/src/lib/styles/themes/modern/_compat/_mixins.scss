@use 'node_modules/@blackbaud/skyux-design-tokens/scss/variables' as
  defaultTokensVars;
@use 'node_modules/@blackbaud/skyux-design-tokens/scss/themes/modern/variables'
  as modernTokensVars;

@use '../../../_compat/variables' as defaultCompatVars;
@use '../../../mixins-public' as defaultPublicMixins;
@use '../../../variables' as defaultVars;

@use 'variables' as *;

@mixin sky-theme-modern-button-variant(
  $color,
  $background,
  $border,
  $hover-border,
  $padding: modernTokensVars.$sky-theme-modern-padding-button-standard
) {
  @include defaultPublicMixins.sky-theme-modern-border($border);
  background-color: $background;
  color: $color;
  padding: defaultPublicMixins.sky-theme-modern-border-padding($padding);

  &:hover {
    @include defaultPublicMixins.sky-theme-modern-border-hover($hover-border);
    text-decoration: none;
  }

  &:hover,
  &:active,
  &.sky-btn-active {
    color: $color;
  }

  &:active,
  &.sky-btn-active {
    @include defaultPublicMixins.sky-theme-modern-border-active($hover-border);
    background-image: none;
  }

  @include sky-theme-modern-btn-disabled(
    modernTokensVars.$sky-theme-modern-font-deemphasized-color,
    modernTokensVars.$sky-theme-modern-border-color-neutral-light,
    modernTokensVars.$sky-theme-modern-border-color-neutral-medium
  );

  &:focus {
    outline: none;

    &:not(:active) {
      @include defaultPublicMixins.sky-theme-modern-border-focus(
        $hover-border,
        modernTokensVars.$sky-theme-modern-elevation-3-shadow-size,
        modernTokensVars.$sky-theme-modern-elevation-3-shadow-color
      );
    }
  }
}

@mixin sky-theme-modern-btn-disabled($color, $background, $border) {
  &.sky-btn-disabled,
  &[disabled],
  fieldset[disabled] & {
    &,
    &:hover,
    &:focus,
    &.sky-btn-focus,
    &:active,
    &.sky-btn-active {
      @include defaultPublicMixins.sky-theme-modern-border($border);
      background-color: $background;
      color: $color;
      opacity: 1;
    }
  }
}

@mixin sky-theme-modern-btn-tab {
  border: none;
  border-radius: 0;
  font-weight: modernTokensVars.$sky-theme-modern-font-body-default-weight;
  padding: $sky-theme-modern-tab-btn-padding-top-bottom
    $sky-theme-modern-tab-btn-padding-left-right;
  transition: box-shadow defaultCompatVars.$sky-transition-time-short;

  &:hover:not(.sky-btn-tab-disabled):not(.sky-btn-tab-selected):not(.sky-dropdown-button-type-tab):not(:focus) {
    background-color: transparent;
    border-bottom: solid 1px defaultTokensVars.$sky-highlight-color-info;
    padding-bottom: $sky-theme-modern-tab-btn-padding-top-bottom - 1px;
  }

  &:focus {
    background-color: transparent;
    outline: none;
  }

  &:focus:not(:active) {
    outline: solid 2px
      modernTokensVars.$sky-theme-modern-background-color-primary-dark;
    outline-offset: -2px;
    box-shadow: modernTokensVars.$sky-theme-modern-elevation-3-shadow-size
      modernTokensVars.$sky-theme-modern-elevation-3-shadow-color;
  }

  &:active {
    border-bottom: solid 3px defaultTokensVars.$sky-highlight-color-info;
    padding-bottom: $sky-theme-modern-tab-btn-padding-top-bottom - 3px;
  }
}

@mixin sky-theme-modern-btn-tab-selected {
  background-color: transparent;
  color: defaultVars.$sky-text-color-default;

  &:not(:active) {
    border-bottom: solid 3px
      modernTokensVars.$sky-theme-modern-background-color-primary-dark;
    padding-bottom: $sky-theme-modern-tab-btn-padding-top-bottom - 3px;
  }

  &:hover:not(.sky-btn-tab-disabled) {
    background-color: transparent;
    color: defaultVars.$sky-text-color-default;
  }

  .sky-btn-tab-close,
  .sky-tab-header-count {
    color: defaultVars.$sky-text-color-deemphasized;
  }
}

@mixin sky-theme-modern-btn-tab-dropdown-item {
  &:hover:not(.sky-btn-tab-disabled) {
    background-color: transparent;
    border-bottom: none;
    outline: solid 1px
      modernTokensVars.$sky-theme-modern-background-color-primary-dark;
    outline-offset: -1px;
  }

  &:focus:not(:active) {
    background-color: transparent;
    box-shadow: modernTokensVars.$sky-theme-modern-elevation-3-shadow-size
      modernTokensVars.$sky-theme-modern-elevation-3-shadow-color;
    outline: solid 2px
      modernTokensVars.$sky-theme-modern-background-color-primary-dark;
    outline-offset: -2px;
  }
}

@mixin sky-theme-modern-btn-tab-selected-dropdown-item {
  color: defaultVars.$sky-text-color-default;
  border-bottom: none;
  border-left: solid 3px
    modernTokensVars.$sky-theme-modern-background-color-primary-dark;
  padding-bottom: $sky-theme-modern-tab-btn-padding-top-bottom;
  padding-left: defaultVars.$sky-tab-btn-padding-left-right - 3px;
}

@mixin sky-theme-modern-dark-btn-tab-selected {
  color: #fff;

  &:hover {
    color: #fff;
  }

  .sky-btn-tab-close,
  .sky-tab-header-count {
    color: #efefef;
  }
}

@mixin sky-theme-modern-dark-btn-tab-dropdown-item {
  background-color: #252a2e;
}

@mixin sky-theme-modern-dark-btn-tab-selected-dropdown-item {
  background-color: #252a2e;
  color: #fff;
}
